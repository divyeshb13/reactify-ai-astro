---
export const prerender = true;
import Layout from "@/layouts/Layout.astro";
import Heading from "@/components/common/Heading.astro";
import NeuralLine from "@/components/background_animation/NeuralLine.astro";
import BgGlow from "@/components/background_animation/BgGlow.astro";
import FAQList from "@/components/interactive/FAQList";
import FaqsCard2 from "@/components/cards/FaqsCard2.astro";
import FaqsCard3 from "@/components/cards/FaqsCard3.astro";
import { faqs as staticFaqs } from "@/utils/const";
import { client } from "@/lib/sanity";
import type { IFAQ } from "@/utils/types";

// Fetch FAQs from Sanity
let faqs = staticFaqs;
try {
  const data = await client.fetch<IFAQ[]>(
    `*[_type == "faq"] | order(order asc)`,
  );
  if (data && data.length > 0) {
    faqs = data.map((item) => ({
      question: item.question,
      answer: item.answer,
    }));
  }
} catch (error) {
  console.error("Error fetching FAQs:", error);
}
---

<Layout title="FAQ - ReactifyAI">
  <section class="py-10 sm:py-20 sm:pt-40 pt-32 relative overflow-hidden">
    <!-- Background Elements -->
    <BgGlow
      variant="primary"
      size="lg"
      positionClass="top-1/4 right-1/4"
      opacity={0.1}
    />
    <BgGlow
      variant="secondary"
      size="lg"
      positionClass="bottom-1/4 left-1/4"
      opacity={0.1}
    />

    <div class="container mx-auto relative z-10 flex flex-col gap-8 sm:gap-16">
      <!-- Header -->
      <Heading
        section="Frequently Asked Questions"
        title="Everything You Need to"
        highlights="Know About AI"
        subtitle="Get answers to the most common questions about our AI solutions, implementation process, and how we can help transform your business."
      />

      <!-- FAQ Grid -->
      <div class="grid lg:grid-cols-2 gap-5 sm:gap-8">
        <!-- FAQ List (Left Column) -->
        <FAQList client:visible items={faqs} />

        <!-- FAQ Visual/Stats (Right Column) -->
        <div
          class="flex flex-col gap-5 sm:gap-8"
          data-aos="fade-left"
          data-aos-delay="400"
        >
          <!-- AI Assistant Visual -->
          <FaqsCard2 />
          <!-- Quick Contact -->
          <FaqsCard3 />
        </div>
      </div>
    </div>
    <NeuralLine />
  </section>
</Layout>
