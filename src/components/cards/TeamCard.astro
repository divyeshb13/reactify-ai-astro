---
import type { TeamCardProps } from "@/utils/types";
import { buttonVariants } from "@/components/interactive/ui/button";
import { Linkedin, X, Github, Star } from "lucide-react";
import TeamCardInteractive from "@/components/interactive/TeamCardInteractive";
import { Image } from "astro:assets";

interface Props extends TeamCardProps {
  social?: {
    linkedin?: string;
    x?: string;
    github?: string;
  };
}

const { image, name, role, bio, social, index, classname } = Astro.props;
---

<TeamCardInteractive client:load index={index} classname={classname}>
  <div class="glow" style={{ zIndex: 1 }}></div>
  <div class="relative mb-2" style={{ zIndex: 2 }}>
    <Image
      src={image}
      alt={name}
      width={96}
      height={96}
      class="sm:w-24 sm:h-24 w-12 h-12 rounded-full mx-auto object-cover group-hover:scale-110 transition-transform duration-300"
    />
    <div
      class="absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-6 h-6 bg-primary/70 rounded-full flex items-center justify-center"
    >
      <Star className="w-3 h-3 text-white" />
    </div>
  </div>
  <div class="flex flex-col gap-1 sm:gap-2" style={{ zIndex: 2 }}>
    <h3
      class="text-lg sm:text-xl font-bold bg-primary bg-clip-text text-transparent"
    >
      {name}
    </h3>
    <p class="font-medium mb-1">{role}</p>
    <p class="text-muted-foreground text-xs sm:text-sm">{bio}</p>
  </div>
  <div class="flex justify-center gap-3" style={{ zIndex: 2 }}>
    {
      social?.linkedin && (
        <a
          href={social.linkedin}
          target="_blank"
          rel="noopener noreferrer"
          class={buttonVariants({ variant: "glass" })}
          aria-label="LinkedIn Profile"
        >
          <Linkedin className="size-3 sm:size-4" />
        </a>
      )
    }
    {
      social?.x && (
        <a
          href={social.x}
          target="_blank"
          rel="noopener noreferrer"
          class={buttonVariants({ variant: "glass" })}
          aria-label="X Profile"
        >
          <X className="size-3 sm:size-4" />
        </a>
      )
    }
    {
      social?.github && (
        <a
          href={social.github}
          target="_blank"
          rel="noopener noreferrer"
          class={buttonVariants({ variant: "glass" })}
          aria-label="Github Profile"
        >
          <Github className="size-3 sm:size-4" />
        </a>
      )
    }
  </div>
</TeamCardInteractive>
