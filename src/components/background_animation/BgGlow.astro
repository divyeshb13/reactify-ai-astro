---
type Variant = "primary" | "secondary" | "neural";
type Size = "sm" | "md" | "lg" | "xl" | string;

interface Props {
  variant?: Variant;
  size?: Size;
  className?: string;
  style?: any;
  positionClass?: string; // additional position helpers like 'top-0 right-0'
  opacity?: number;
  blur?: string;
}

const {
  variant = "primary",
  size = "lg",
  className = "",
  style,
  positionClass = "",
  opacity = 0.1,
  blur = "blur-3xl",
} = Astro.props;

const variantToGradient: Record<Variant, string> = {
  primary: "bg-primary",
  secondary: "bg-(image:--gradient-secondary)",
  neural: "bg-(image:--gradient-primary)",
};

const sizeToClasses: Record<string, string> = {
  sm: "w-48 h-48",
  md: "w-72 h-72",
  lg: "w-96 h-96",
  xl: "w-[28rem] h-[28rem]",
};

const gradientClass = variantToGradient[variant] ?? variantToGradient.primary;
const sizeClass =
  typeof size === "string" ? (sizeToClasses[size] ?? sizeToClasses.lg) : "";

// Use inline style for opacity instead of dynamic Tailwind class
const combinedStyle = { opacity, ...style };
---

<div
  class={`absolute ${positionClass} ${sizeClass} ${blur} rounded-full ${gradientClass} ${className}`}
  style={combinedStyle}
  aria-hidden="true"
>
</div>
